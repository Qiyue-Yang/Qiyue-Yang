<!DOCTYPE html>
<html>
<head>
    <title>è®°äº‹æœ¬å•ä½“åº”ç”¨</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: Arial, sans-serif;
            line-height: 1.6;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f5f5f5;
        }
        
        .app-container {
            background: white;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            padding: 30px;
        }
        
        .todo-form {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
        }
        
        input {
            flex: 1;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 4px;
            font-size: 16px;
        }
        
        button {
            padding: 10px 20px;
            background: #007bff;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
        }
        
        button:hover {
            background: #0056b3;
        }
        
        .todo-list {
            list-style: none;
        }
        
        .todo-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 10px;
            border-bottom: 1px solid #eee;
        }
        
        .completed {
            text-decoration: line-through;
            color: #999;
        }
        
        .delete-btn {
            background: #dc3545;
            padding: 5px 10px;
            font-size: 12px;
        }
    </style>
</head>
<body>
    <div class="app-container">
        <h1>ğŸ“ ç®€æ˜“å¾…åŠäº‹é¡¹</h1>
        
        <div class="todo-form">
            <input type="text" id="todoInput" placeholder="æ·»åŠ æ–°ä»»åŠ¡...">
            <button onclick="addTodo()">æ·»åŠ </button>
        </div>
        
        <ul id="todoList" class="todo-list"></ul>
        
        <div style="margin-top: 20px;">
            <small>æ€»ä»»åŠ¡æ•°: <span id="totalCount">0</span> | 
                  å·²å®Œæˆ: <span id="completedCount">0</span></small>
        </div>
    </div>

    <script>
        // æ•°æ®å­˜å‚¨ï¼ˆæ¨¡æ‹Ÿæ•°æ®åº“ï¼‰
        let todos = JSON.parse(localStorage.getItem('todos')) || [];
        
        // åˆå§‹åŒ–æ˜¾ç¤º
        function init() {
            renderTodos();
            updateStats();
        }
        
        // æ·»åŠ å¾…åŠäº‹é¡¹
        function addTodo() {
            const input = document.getElementById('todoInput');
            const text = input.value.trim();
            
            if (text) {
                const todo = {
                    id: Date.now(),
                    text: text,
                    completed: false,
                    createdAt: new Date().toISOString()
                };
                
                todos.push(todo);
                saveToStorage();
                renderTodos();
                updateStats();
                input.value = '';
            }
        }
        
        // åˆ‡æ¢å®ŒæˆçŠ¶æ€
        function toggleTodo(id) {
            todos = todos.map(todo => 
                todo.id === id ? { ...todo, completed: !todo.completed } : todo
            );
            saveToStorage();
            renderTodos();
            updateStats();
        }
        
        // åˆ é™¤å¾…åŠäº‹é¡¹
        function deleteTodo(id) {
            todos = todos.filter(todo => todo.id !== id);
            saveToStorage();
            renderTodos();
            updateStats();
        }
        
        // æ¸²æŸ“åˆ—è¡¨
        function renderTodos() {
            const list = document.getElementById('todoList');
            list.innerHTML = '';
            
            todos.forEach(todo => {
                const li = document.createElement('li');
                li.className = 'todo-item';
                if (todo.completed) li.classList.add('completed');
                
                li.innerHTML = `
                    <div style="display: flex; align-items: center; gap: 10px;">
                        <input type="checkbox" 
                               ${todo.completed ? 'checked' : ''}
                               onclick="toggleTodo(${todo.id})">
                        <span>${todo.text}</span>
                        <small style="color: #666;">
                            ${new Date(todo.createdAt).toLocaleDateString()}
                        </small>
                    </div>
                    <button class="delete-btn" 
                            onclick="deleteTodo(${todo.id})">
                        åˆ é™¤
                    </button>
                `;
                
                list.appendChild(li);
            });
        }
        
        // æ›´æ–°ç»Ÿè®¡
        function updateStats() {
            document.getElementById('totalCount').textContent = todos.length;
            const completed = todos.filter(t => t.completed).length;
            document.getElementById('completedCount').textContent = completed;
        }
        
        // ä¿å­˜åˆ°æœ¬åœ°å­˜å‚¨
        function saveToStorage() {
            localStorage.setItem('todos', JSON.stringify(todos));
        }
        
        // é¡µé¢åŠ è½½æ—¶åˆå§‹åŒ–
        document.addEventListener('DOMContentLoaded', init);
        
        // æ”¯æŒå›è½¦æ·»åŠ 
        document.getElementById('todoInput').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') addTodo();
        });
    </script>
</body>
</html>